generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["postgresqlExtensions"]
}

datasource db {
  provider   = "postgresql"
  url        = env("DATABASE_URL")
  extensions = [postgis]
}

model citadela_items {
  id                 Int                       @id @default(autoincrement())
  item_id            Int                       @unique
  slug               String                    @unique
  title              String
  subtitle           String?
  content            String?
  status             String                    @default("publish")
  created_at         DateTime
  updated_at         DateTime
  address            String?
  latitude           Float?
  longitude          Float?
  location           Unsupported("geography")?
  map_enabled        Boolean                   @default(false)
  streetview_enabled Boolean                   @default(false)
  swheading          Float?
  swpitch            Float?
  swzoom             Float?
  telephone          String?
  email              String?
  show_email         Boolean                   @default(false)
  use_contact_form   Boolean                   @default(false)
  web_url            String?
  web_url_label      String?
  show_opening_hours Boolean                   @default(false)
  opening_hours      Json?
  featured           Boolean                   @default(false)
  categories         String[]
  tags               String[]
  tax_map            String?

  @@index([categories], type: Gin)
  @@index([status])
  @@index([tags], type: Gin)
  @@index([updated_at(sort: Desc)])
}

model landmarks {
  id           Int                       @id @default(autoincrement())
  name         String                    @unique
  name_kana    String?
  name_english String?
  category     String
  latitude     Float
  longitude    Float
  address      String?
  description  String?
  location     Unsupported("geography")?
  created_at   DateTime                  @default(now())
  updated_at   DateTime

  @@index([category])
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
model spatial_ref_sys {
  srid      Int     @id
  auth_name String? @db.VarChar(256)
  auth_srid Int?
  srtext    String? @db.VarChar(2048)
  proj4text String? @db.VarChar(2048)
}
